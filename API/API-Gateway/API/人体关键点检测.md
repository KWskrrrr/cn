# 人体关键点检测


## 描述
人体关键点检测API能够准确地估计出图片或视频中的人体14个主要关键点，包括：左右手肘、左右手腕、左右肩膀、头、脖子、左右脚踝、左右膝盖和左右臀等。进而能够在多个场景形式下，对站立、坐姿、运动多个姿态进行估计，从而实现对动作姿态的检测识别。可以用于游戏互动、视频直播、AR/VR、便携式可穿戴设备等场景下的人体姿态识别。

## 请求方式
POST

## 请求地址
https://aiapi.jdcloud.com/jdai/pose_estimation


## 业务请求参数
|名称|类型|是否必需|示例值|描述|
|---|---|---|---|---|
|**muti_det**|int|是| 2	|单人姿态预测或多人姿态预测；当值为1时，实现单人姿态预测；当值为2时，实现多人姿态预测|

## body请求参数 
|名称|类型|是否必需|示例值|描述|
|---|---|---|---|---|
|**无**|binary|是|无	 |图片内容，传入图片|



## 公共返回参数
|名称|类型|示例值|描述|
|---|---|---|---|
|**code**|string|1000|参见下方错误码-系统级错误码|
|**charge**|boolean|false 或 true	|false：不扣费， true：扣费|
|**remainTimes**|long|1305|剩余调用次数；免费api：每天剩余调用次数；收费api：剩余次数；无限制时为-1|
|**remainSeconds**|long|1223456|剩余调用时间（s）；免费api：-1；收费api：剩余调用时间；无限制时为-1|
|**msg**|String|查询成功	|参见下方错误码-系统级错误码|
|**result**|object|{...}	|查询结果|

## 业务返回参数
|名称|类型|示例值|描述|
|---|---|---|---|
|**status**|int|0|错误码|
|**message**|String|SUCCESS	|状态码描述|
|**request_id**|string|	cb4f53b8c60e9589445cc4cd895cf5b6	|便于双方定位问题|
|**det_num**|int|	14	|检测的关键点数，暂时支持14点检测；默认输出值为14|
|**used_time**|int|	198	|整个请求花费的时间，单位为毫秒|
|**det_info**|array|	14	|{"person_num":1,"node_info":[...]},{"person_num":2,"node_info":[...]}]	检测点的信息数组，详情见det_info字段说明。当没有检测到人时，会返回[]}|


## det_info字段说明
|名称|类型|示例值|描述|
|---|---|---|---|
|**person_num**|int|4		|多人检测时，图中检测人员的编号，按照检测出的头部关键点位置，从左往右依次从1开始编号；单人检测时，该值为1|
|**node_info**|list列表|x为关键点的横坐标，类型为int，y为关键点的纵坐标，类型为int，score为置信度，类型为float，node为节点名，类型为str。node的值为: head(头部)、neck(脖子)、r_shoulder（右肩膀）、r_elbow(右手肘)、r_wrist(右手腕)、l_shoulder（左肩膀）、l_elbow(左手肘)、l_wrist(左手腕)、r_hip（右臀部）、r_knee(右膝盖)、r_ankle(右脚踝)、l_hip（左臀部）、l_knee(左膝盖)、l_ankle(左脚踝)|


## 错误码
|业务错误码（code）	|message|说明|
|---|---|---|
|**12001**|""param 'muti_det' must be 1 or 2"	|参数'muti_det'必须为1或者2|
|**12002**|"not enough param"		|参数缺失，muti_det参数未被获取到|
|**12003**|"image type error"				|解析参数错误,图片格式不支持|
|**12004**|"image size exceeds 2M"|图片大小超过限制，图像超过2M|
|**12005**|"image size must be between 256X256 and 4096X4096"	|图片大小超过限制，图片尺寸不在支持范围内，与上方情况共用一个错误码|
